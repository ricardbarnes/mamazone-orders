FROM openjdk:17-jdk-slim

WORKDIR /app

COPY producer/build/libs/producer-0.0.1-SNAPSHOT.jar app.jar

ENV SOCKET_COMMAND_BUS_PORT=${SOCKET_COMMAND_BUS_PORT}
ENV SOCKET_QUERY_BUS_PORT=${SOCKET_QUERY_BUS_PORT}
ENV SOCKET_EVENT_BUS_HOST=${SOCKET_EVENT_BUS_HOST}
ENV SOCKET_EVENT_BUS_PORT=${SOCKET_EVENT_BUS_PORT}
ENV POSTGRES_URL=${POSTGRES_URL}
ENV POSTGRES_USERNAME=${POSTGRES_USERNAME}
ENV POSTGRES_PASSWORD=${POSTGRES_PASSWORD}

ENTRYPOINT ["java", "-jar", "app.jar"]